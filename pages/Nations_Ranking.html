<article>
	<div class='panel sub' horizontal center-justified layout>
		<paper-radio-group selected="default">
			<paper-radio-button name="default" label="전체" on-core-change="{{changeServer}}" data-target="all-nation-ranking" data-default="all-nation-ranking"></paper-radio-button>
			<template repeat="{{server in servers}}">
				<paper-radio-button label="{{server.name}}" class="target" on-core-change="{{changeServer}}" data-target="{{server.value}}" data-default="all-nation-ranking"></paper-radio-button>
			</template>
		</paper-radio-group>
	</div>
	
	<template is="auto-binding">
		<google-sheets key="1agigo8tZhB7pMxYcpMvCurSi6I11io__5U1EtzMtfhE" gid="4" rows="{{rows}}" published></google-sheets>
		<table class='table table-condensed'>
			<thead>
				<tr>
					<th class='sub'>서버</th>
					<th flex>국가</th>
					<th class='sub'>총원</th>
					<th class='sub'>장비점수 총합</th>
					<th>장비점수 평균</th>
					<th>
						<core-tooltip position='bottom' class='fancy' role='tooltip'>
							Top 100 평균<span class="small">(?)</span>
							<div tip>
								국가 내 장비점수 상위<br><br>100명에 대한 평균값
							</div>
						</core-tooltip>		
					</th>
					<th class='sub'>날짜</th>
				</tr>
			</thead>
			<tbody>
				<template repeat="{{row, i in rows}}">				
				<tr class="all-nation-ranking [[row.gsx$server.$t | serverTranslate]]">
					<td class='sub'>[[row.gsx$server.$t]]</td>
					<td>[[row.gsx$nation.$t]]</td>
					<td class='sub'>[[row.gsx$total.$t | comma]]</td>
					<td class='sub'>[[row.gsx$scoresum.$t | comma]] <span class='small'>({{ {arr: rows, target: 'gsx$scoresum', value: row.gsx$scoresum.$t} | getRankIndex }}위)</span></td>
					<td>[[row.gsx$scoreavg.$t | parseInt | comma]] <span class='small'>({{ {arr: rows, target: 'gsx$scoreavg', value: row.gsx$scoreavg.$t} | getRankIndex }}위)</span></td>
					<td style='font-weight: bold'>[[row.gsx$scoreavgtop100.$t | parseInt | comma]] <span class='small'>({{ {arr: rows, target: 'gsx$scoreavgtop100', value: row.gsx$scoreavgtop100.$t} | getRankIndex }}위)</span></td>
					<td class='sub'>[[row.gsx$timestamp.$t | parseDate]]</td>
				</tr>
				</template>
			</tbody>
		</table>
	</template>		
</article>