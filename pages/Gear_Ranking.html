<article>
	<div horizontal center-justified center layout fit id='spinner'>
		<paper-spinner active></paper-spinner>
	</div>
	<div class='panel sub' horizontal center-justified layout style='display: none;' id='serverToggle'>
		<paper-radio-group selected="default">
			<paper-radio-button name="default" label="전체" on-core-change="{{changeServer}}" data-target="all-gear" data-default="all-gear"></paper-radio-button>
			<template repeat="{{server in servers}}">
				<paper-radio-button label="{{server.name}}" class="target" on-core-change="{{changeServer}}" data-target="{{server.value}}" data-default="all-gear"></paper-radio-button>
			</template>
		</paper-radio-group>
	</div>
	<template is="auto-binding">
		<google-sheets key="18eSf_Z6ptdk3YOxTEdZhbweNdVvDdb952fR__w-ofIU" tabid="3" rows="{{rows}}" published></google-sheets>
		<table class='table table-condensed table-hover' style='display: none;' id='datatable'>
			<thead>
				<tr>
					<th>랭킹</th>
					<th>이름<span class='small'> @서버</span></th>
					<th>현재점수<span class='sub'> / 최고점수</span></th>
					<th class='sub'>날짜</th>
				</tr>
			</thead>
			<tbody>
				<template repeat="{{row in rows}}">
				<tr class="all-gear [[row.gsx$server.$t | serverTranslate]]">
					<td>[[row.gsx$rank.$t]]위</td>
					<td><a href='[[row.gsx$url.$t]]' target='_blank'>[[row.gsx$name.$t]]</a><span class='small'> @[[row.gsx$server.$t]]</span></td>
					<td>[[row.gsx$current.$t | comma]]<span class='sub'> / [[row.gsx$record.$t | comma]]</span></td>
					<td class='sub'>[[row.gsx$timestamp.$t | parseDate]]</td>
				</tr>
				</template>
			</tbody>
		</table>
		<script>
		  var sheet = document.querySelector('google-sheets');

		  sheet.addEventListener('google-sheet-data', function(e) {
		  	document.querySelector('#spinner').style.display = 'none';
		  	document.querySelector('#datatable').style.display = '';
		  	document.querySelector('#serverToggle').style.display = '';
		  });
		</script>
	</template>
</article>